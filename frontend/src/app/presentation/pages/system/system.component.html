<app-page-toolbar [title]="'Sistema'"></app-page-toolbar>
<div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
  <mat-card appearance="outlined" class="mt-4">
    <mat-card-content>
      <h1 class="text-xl text-bold">Parámetros</h1>
      <div class="w-1/2 flex mt-4">
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Buscar parámetro</mat-label>
          <input type="text" matInput [formControl]="systemParametersFilter" />
          <i-tabler matSuffix name="search" class="mx-4"></i-tabler>
        </mat-form-field>
      </div>
      <div class="overflow-x-auto">
        <table
          mat-table
          [dataSource]="systemParametersDataSource"
          matSort
          #systemParametersSort="matSort"
        >
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>#</th>
            <td mat-cell *matCellDef="let element">{{ element.id }}</td>
          </ng-container>

          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef>Descripción</th>
            <td mat-cell *matCellDef="let element">
              {{ element.description }}
            </td>
          </ng-container>

          <ng-container matColumnDef="value">
            <th mat-header-cell *matHeaderCellDef>Valor</th>
            <td mat-cell *matCellDef="let element">{{ element.value }}</td>
          </ng-container>

          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef>Acción</th>
            <td mat-cell *matCellDef="let element">
              <button
                mat-icon-button
                (click)="editSystemParameter(element)"
                matTooltip="Editar"
                matTooltipPosition="right"
              >
                <i-tabler name="edit"></i-tabler>
              </button>
            </td>
          </ng-container>

          <tr
            mat-header-row
            *matHeaderRowDef="systemParametersDisplayedColumns"
          ></tr>
          <tr
            mat-row
            *matRowDef="let row; columns: systemParametersDisplayedColumns"
          ></tr>
        </table>
        <mat-paginator
          #systemParametersPaginator
          [pageSizeOptions]="[5, 10]"
          showFirstLastButtons="true"
          aria-label="Seleccionar página de usuarios"
        ></mat-paginator>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card appearance="outlined" class="mt-0 lg:mt-4">
    <mat-card-content>
      <h1 class="text-xl text-bold">Tareas programadas</h1>
      <div class="w-1/2 flex mt-4">
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Buscar tarea</mat-label>
          <input type="text" matInput [formControl]="schedulesFilter" />
          <i-tabler matSuffix name="search" class="mx-4"></i-tabler>
        </mat-form-field>
      </div>
      <div class="overflow-x-auto">
        <table
          mat-table
          [dataSource]="schedulesDataSource"
          matSort
          #scheduleSort="matSort"
        >
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>#</th>
            <td mat-cell *matCellDef="let element">{{ element.id }}</td>
          </ng-container>

          <ng-container matColumnDef="label">
            <th mat-header-cell *matHeaderCellDef>Descripción</th>
            <td mat-cell *matCellDef="let element">{{ element.label }}</td>
          </ng-container>

          <ng-container matColumnDef="cron">
            <th mat-header-cell *matHeaderCellDef>Cron</th>
            <td mat-cell *matCellDef="let element">{{ element.cron }}</td>
          </ng-container>

          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef>Acción</th>
            <td mat-cell *matCellDef="let element">
              <button
                mat-icon-button
                (click)="editSchedule(element)"
                matTooltip="Editar"
                matTooltipPosition="right"
              >
                <i-tabler name="edit"></i-tabler>
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="schedulesDisplayedColumns"></tr>
          <tr
            mat-row
            *matRowDef="let row; columns: schedulesDisplayedColumns"
          ></tr>
        </table>
        <mat-paginator
          #schedulePaginator
          [pageSizeOptions]="[5, 10]"
          showFirstLastButtons="true"
          aria-label="Seleccionar página de usuarios"
        ></mat-paginator>
      </div>
    </mat-card-content>
  </mat-card>
</div>

<mat-card appearance="outlined" class="mt-4">
  <mat-card-content>
    <h1 class="text-xl text-bold">Mensajes</h1>
    <div class="w-1/2 flex mt-4">
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>Buscar mensaje</mat-label>
        <input type="text" matInput [formControl]="messagesFilter" />
        <i-tabler matSuffix name="search" class="mx-4"></i-tabler>
      </mat-form-field>
    </div>
    <div class="overflow-x-auto">
      <table
        mat-table
        [dataSource]="messagesDataSource"
        matSort
        #messagesSort="matSort"
      >
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>#</th>
          <td mat-cell *matCellDef="let element">{{ element.id }}</td>
        </ng-container>

        <ng-container matColumnDef="key">
          <th mat-header-cell *matHeaderCellDef>Key</th>
          <td mat-cell *matCellDef="let element">{{ element.key }}</td>
        </ng-container>

        <ng-container matColumnDef="value">
          <th mat-header-cell *matHeaderCellDef>Mensaje</th>
          <td mat-cell *matCellDef="let element">{{ element.value }}</td>
        </ng-container>

        <ng-container matColumnDef="locale">
          <th mat-header-cell *matHeaderCellDef>Locale</th>
          <td mat-cell *matCellDef="let element">{{ element.locale }}</td>
        </ng-container>

        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef>Acción</th>
          <td mat-cell *matCellDef="let element">
            <button
              mat-icon-button
              (click)="editMessage(element)"
              matTooltip="Editar"
              matTooltipPosition="right"
            >
              <i-tabler name="edit"></i-tabler>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="messagesDisplayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: messagesDisplayedColumns"
        ></tr>
      </table>
      <mat-paginator
        #messagesPaginator
        [pageSizeOptions]="[5, 10]"
        showFirstLastButtons="true"
        aria-label="Seleccionar página de usuarios"
      ></mat-paginator>
    </div>
  </mat-card-content>
</mat-card>
